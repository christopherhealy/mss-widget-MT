<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MSS Widget MT – Question Help Editor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Shared MSS design system -->
  <link id="themeCss" rel="stylesheet" href="/themes/MSSStylesheet.css?v=1" />
  <!-- Admin-specific layout (same as ConfigAdmin) -->
  <link rel="stylesheet" href="/themes/mss-config-admin.css?v=1" />
</head>
<body class="mssVoxAurora">
  <!-- Top header, same style as ConfigAdmin -->
  <header class="mss-top">
    <div class="mss-top-inner">
      <div class="mss-row">
        <div class="mss-stack-tight">
          <div class="mss-pill">MSS WIDGET MT</div>
          <div class="mss-titlesm">Question Help Editor</div>
        </div>
      </div>
      <div class="mss-row">
        <div class="mss-stack-tight" style="text-align:right;">
          <div id="slugDisplay" class="mss-muted">slug=…</div>
          <div id="meta" class="mss-meta">Source: — • Loading…</div>
        </div>
      </div>
    </div>
  </header>

  <!-- MAIN: single column -->
  <main class="mss-shell">
    <div class="mss-layout" style="grid-template-columns: 1fr;">
      <section aria-label="Question help editor">

        <!-- Select Question -->
        <details class="mss-section" open>
          <summary class="mss-section-header">
            <span class="mss-pill">Select question</span>
          </summary>

          <div class="mss-section-body">
            <div class="mss-field">
              <label class="mss-label" for="questionSelect">Question</label>
              <select id="questionSelect" class="mss-select">
                <option>Loading questions…</option>
              </select>
              <div class="mss-help">
                Choose a question to edit its MaxHelp / MinHelp text.
              </div>
            </div>
          </div>
        </details>

        <!-- Prompt for AI -->
        <details class="mss-section" open>
          <summary class="mss-section-header">
            <span class="mss-pill">Prompt for AI</span>
          </summary>

          <div class="mss-section-body">
            <div class="mss-field">
              <label class="mss-label" for="promptTextarea">Prompt</label>
              <textarea id="promptTextarea" class="mss-textarea"></textarea>
              <div class="mss-help">
                Copy this prompt into ChatGPT or your favourite AI app.
                Paste the long passage into MaxHelp and the bullet points into MinHelp.
              </div>
            </div>
          </div>
        </details>

        <!-- MaxHelp -->
        <details class="mss-section" open>
          <summary class="mss-section-header">
            <span class="mss-pill">MaxHelp — reading passage</span>
          </summary>

          <div class="mss-section-body">
            <div class="mss-field">
              <label class="mss-label" for="maxHelpTextarea">
                MaxHelp (≈ 60 seconds of reading)
              </label>
              <textarea id="maxHelpTextarea" class="mss-textarea"></textarea>
            </div>
          </div>
        </details>

        <!-- MinHelp -->
        <details class="mss-section" open>
          <summary class="mss-section-header">
            <span class="mss-pill">MinHelp — summary</span>
          </summary>

          <div class="mss-section-body">
            <div class="mss-field">
              <label class="mss-label" for="minHelpTextarea">
                MinHelp (bullet summary)
              </label>
              <textarea id="minHelpTextarea" class="mss-textarea"></textarea>
            </div>
          </div>
        </details>

        <!-- Actions -->
        <div class="mss-admin-actions" style="margin-top: 20px;">
          <button id="saveBtn" class="mss-btn mss-btn-primary">
            Save help
          </button>
          <button id="reloadBtn" class="mss-btn mss-btn-outline">
            Reload from server
          </button>
          <span id="status" class="mss-help-text" style="margin-left: 10px;">
            Ready
          </span>
        </div>

        <!-- Notes Block -->
        <aside class="mss-card" style="margin-top: 24px;">
          <div class="mss-card-body">
            <h2 class="mss-card-title">Notes</h2>
            <p class="mss-card-subtitle">
              Attach MaxHelp / MinHelp content to each question for the selected school (by slug).
            </p>

            <p class="mss-help-text" style="margin-top:10px;">
              • <b>Prompt</b>: Instructions to generate the help text.<br />
              • <b>MaxHelp</b>: A ~60-second reading passage.<br />
              • <b>MinHelp</b>: Short bullet summary.<br />
              • Help is optional — but recommended for every question.
            </p>
          </div>
        </aside>
      </section>
    </div>
  </main>

  <script src="/help-admin/HelpAdmin.js?v=1"></script>
</body>
</html>