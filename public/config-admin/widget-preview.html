<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>MSS Widget preview</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Use the main MSS theme so preview looks correct -->
    <link rel="stylesheet" href="/themes/MSSStylesheet.css?v=1" />
  </head>
  <body style="margin:0; padding:24px; background:#f5f7fb;">
    <div id="mss-widget-container"></div>

    <script>
      (function () {
        const params = new URLSearchParams(window.location.search);
        const schoolId = (params.get("schoolId") || "").trim();

        const container = document.getElementById("mss-widget-container");
        if (!schoolId) {
          if (container) {
            container.innerHTML =
              "<p style='font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",sans-serif;color:#b00;padding:16px;'>No school ID was provided for this preview.</p>";
          }
          return;
        }

        // Dynamically inject the same embed snippet schools will use
        const s = document.createElement("script");
        s.src = "/embed.js";
        s.setAttribute("data-school-id", schoolId);
        document.body.appendChild(s);
      })();
    </script>
  </body>
</html>